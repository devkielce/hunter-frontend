"use strict";(()=>{var e={};e.id=757,e.ids=[757],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55942:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c});var s={};r.r(s),r.d(s,{PATCH:()=>p});var i=r(49303),n=r(88716),a=r(60670),o=r(87070),u=r(6943);async function p(e,{params:t}){let r;let{id:s}=await t;try{r=await e.json()}catch{return o.NextResponse.json({error:"Nieprawidłowy JSON"},{status:400})}let i=r?.status;if(!i||"string"!=typeof i)return o.NextResponse.json({error:"Brak pola status"},{status:400});if(!["new","contacted","viewed","archived"].includes(i))return o.NextResponse.json({error:"Nieprawidłowy status"},{status:400});let n=(0,u.l)(),{error:a}=await n.from("listings").update({status:i,updated_at:new Date().toISOString()}).eq("id",s);return a?(console.error("listings update error",a),o.NextResponse.json({error:"Błąd aktualizacji"},{status:500})):o.NextResponse.json({ok:!0})}let d=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/listings/[id]/route",pathname:"/api/listings/[id]",filename:"route",bundlePath:"app/api/listings/[id]/route"},resolvedPagePath:"/Users/arturwillonski/Documents/hunter-frontend/src/app/api/listings/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:g}=d,h="/api/listings/[id]/route";function w(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}},6943:(e,t,r)=>{r.d(t,{l:()=>i});var s=r(37857);function i(){let e=process.env.SUPABASE_SERVICE_ROLE_KEY;return(0,s.eI)("https://zdmhdrpoeegqehphgufw.supabase.co",e,{auth:{persistSession:!1}})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,732,972],()=>r(55942));module.exports=s})();